<!DOCTYPE html>
<html>
<head>
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600&display=swap" rel="stylesheet">
<meta charset="utf-8"/>
<title>Interactive Cytoscape Network</title>
<script src="https://unpkg.com/cytoscape/dist/cytoscape.min.js"></script>
<script>
  // Click to show info panel
  document.addEventListener('DOMContentLoaded', function() {
    cy.on('tap', 'node.item', function(evt) {
      var node = evt.target;
      var data = node.data();
      var labels = node.connectedEdges().connectedNodes().filter(function(ele) {
        return ele.data('label').startsWith('label:');
      }).map(function(ele) {
        return ele.data('label').replace('label:', '');
      });
      var panel = document.getElementById('info-panel');
      var html = '<button class="close-btn">&times;</button>';
      html += '<h3>' + data.label + '</h3>';
      if(labels.length) {
        html += '<p><strong>Inhoudelijke labels:</strong></p><ul>';
        labels.forEach(function(lbl){ html += '<li>' + lbl + '</li>'; });
        html += '</ul>';
      }
      if(data.url) { html += '<p><a href="' + data.url + '" target="_blank">Google zoeken</a></p>'; }
      panel.innerHTML = html;
      panel.style.display = 'block';
      panel.querySelector('.close-btn').onclick = function() { panel.style.display = 'none'; };
    });
  });
</script>
<style>
  :root {
    --primary-color: #0052cc;
    --secondary-color: #6c757d;
    --background-control: #f4f5f7;
    --text-color: #333333;
    --shadow: 0 4px 12px rgba(0,0,0,0.1);
    --border-radius: 8px;
    --font-base: 'Inter', sans-serif;
  }
  * { box-sizing: border-box; margin: 0; padding: 0; }
  html, body { height: 100%; width: 100%; font-family: var(--font-base); overflow: hidden; background-color: #e8f5e9; }
  #controls {
    position: absolute;
    top: 0;
    left: 0;
    width: 250px;
    height: 100%;
    background: #fafafa;
    border-right: 1px solid #ddd;
    padding: 16px;
    overflow-y: auto;
    z-index: 10;
  }
  #controls h2 { font-size: 18px; font-weight: 600; margin-bottom: 16px; color: var(--text-color); }
  #controls button { display: block; width: 100%; margin: 8px 0; padding: 10px; font-size: 14px; font-weight: 600; color: #ffffff; background-color: var(--primary-color); border: none; border-radius: var(--border-radius); cursor: pointer; transition: background-color 0.2s, transform 0.1s; }
  #controls button:hover { background-color: #003d99; transform: translateY(-1px); }
  #controls button.secondary { background-color: var(--secondary-color); }
  #controls button.secondary:hover { background-color: #5a6268; }
  #controls fieldset { margin-top: 16px; border: 1px solid #e1e4e8; padding: 12px; border-radius: var(--border-radius); }
  #controls legend { font-weight: 600; margin-bottom: 8px; color: var(--text-color); }
  #controls label { font-size: 14px; color: var(--text-color); }
  #controls input[type="checkbox"] { transform: scale(1.2); margin-right: 8px; cursor: pointer; }
  #cy { position: absolute; top: 0; left: 240px; right: 0; bottom: 0; }
  #tooltip { position: absolute; z-index: 1000; padding: 6px 10px; background: #ffffff; border-radius: var(--border-radius); box-shadow: var(--shadow); font-size: 13px; color: var(--text-color); pointer-events: none; display: none; white-space: nowrap; opacity: 0.9; transition: opacity 0.2s; }
  #info-panel { position: absolute; top: 0; right: 0; width: 240px; height: 100vh; background: #ffffff; box-shadow: var(--shadow); border-left: 1px solid #e1e4e8; padding: 16px; overflow-y: auto; display: none; font-size: 14px; color: var(--text-color); }
  #info-panel button.close-btn { background: none; border: none; font-size: 18px; float: right; cursor: pointer; }
</style>
</head>
<body>
<div id="controls">
  <h2>Instellingen</h2>
  <button id="toggle_hover" data-shown="false" style="margin-bottom:8px;">Toon alle titels</button><br/>
  <button id="toggle_all_labels" data-hidden="false" style="margin-bottom:8px;">Verberg alle inhoudelijke labels</button><br/><br/>
  <strong>Filter inhoudelijke labels:</strong>
  <fieldset>
    <legend>Perspectief</legend>
    <label><input type="checkbox" id="filter_10" data-filter-label="label:Afro-Surinaams perspectief" checked> Afro-Surinaams perspectief</label><br/>
    <label><input type="checkbox" id="filter_48" data-filter-label="label:Hindostaans perspectief" checked> Hindostaans perspectief</label><br/>
    <label><input type="checkbox" id="filter_49" data-filter-label="label:Javaans perspectief" checked> Javaans perspectief</label><br/>
    <label><input type="checkbox" id="filter_50" data-filter-label="label:Inheems perspectief" checked> Inheems perspectief</label><br/>
    <label><input type="checkbox" id="filter_18" data-filter-label="label:Nederlands perspectief" checked> Nederlands perspectief</label><br/>
    <label><input type="checkbox" id="filter_8" data-filter-label="label:Surinaamse diaspora" checked> Surinaamse diaspora</label>
  </fieldset>
  <fieldset>
    <legend>Politieke lading</legend>
    <label><input type="checkbox" id="filter_23" data-filter-label="label:Nationalisme" checked> Nationalisme</label><br/>
    <label><input type="checkbox" id="filter_31" data-filter-label="label:Milieuactivisme" checked> Milieuactivisme</label>
  </fieldset>
  <fieldset>
    <legend>Onderwerp genoemd</legend>
    <label><input type="checkbox" id="filter_46" data-filter-label="label:Christendom" checked> Christendom</label><br/>
    <label><input type="checkbox" id="filter_5" data-filter-label="label:Winti" checked> Winti</label><br/>
    <label><input type="checkbox" id="filter_36" data-filter-label="label:Slavernij" checked> Slavernij</label>
  </fieldset>
  <fieldset>
    <legend>Verschijningscontext</legend>
    <label><input type="checkbox" id="filter_39" data-filter-label="label:Postkoloniaal Nederland" checked> Postkoloniaal Nederland</label>
  </fieldset>
</div>
<div id="cy"></div>
<div id="tooltip"></div>
<div id="info-panel"></div>
<script>
var cy = cytoscape({
    container: document.getElementById('cy'),
    elements: [
      // ... existing item nodes ...
      { data: { id: 10, label: 'label:Afro-Surinaams perspectief' }, classes: 'label', position: { x: -363, y: -21 }, style: { 'background-color': '#68ad36', width: 50, height: 50 } },
      { data: { id: 48, label: 'label:Hindostaans perspectief' }, classes: 'label', position: { x: -200, y: -200 }, style: { 'background-color': '#68ad36', width: 50, height: 50 } },
      { data: { id: 49, label: 'label:Javaans perspectief' }, classes: 'label', position: { x: 0, y: -200 }, style: { 'background-color': '#68ad36', width: 50, height: 50 } },
      { data: { id: 50, label: 'label:Inheems perspectief' }, classes: 'label', position: { x: 200, y: -200 }, style: { 'background-color': '#68ad36', width: 50, height: 50 } },
      // ... other label nodes ...
      { data: { id: 47, label: 'dîl ghabṟây kâheṉse semar bhayânak', url: 'https://www.google.com/search?q=dîl+ghabṟây+kâheṉse+semar+bhayânak' }, classes: 'item', position: { x: -140.75, y: -269.47 }, style: { 'background-color': '#d27cce', width: 50, height: 50 } },
      // ... other edges ...
      { data: { id: '48_47', source: 48, target: 47 }, style: { 'line-color': '#68ad36', width: 1 } }
    ],
    layout: { name: 'preset', fit: true },
    style: [
      { selector: 'node.label', style: { label: 'data(label)', 'font-weight': 'bold', 'text-valign': 'center', 'text-halign': 'center', 'font-size': '12px' } },
      { selector: 'node.item', style: { label: '', 'text-opacity': 0 } },
      { selector: '.faded', style: { opacity: 0.1 } },
      { selector: '.highlight', style: { opacity: 1 } },
      { selector: 'edge', style: { 'line-color': 'data(line-color)', width: 1 } }
    ]
});

// Tooltip and hover logic unchanged...
// ... existing filter handlers ...
// Add handlers for new filters:
document.getElementById('filter_48').addEventListener('change', function(evt) {
  var node = cy.getElementById('48'); var edges = node.connectedEdges();
  evt.target.checked ? (node.show(), edges.show()) : (node.hide(), edges.hide());
});
document.getElementById('filter_49').addEventListener('change', function(evt) {
  var node = cy.getElementById('49'); var edges = node.connectedEdges();
  evt.target.checked ? (node.show(), edges.show()) : (node.hide(), edges.hide());
});
document.getElementById('filter_50').addEventListener('change', function(evt) {
  var node = cy.getElementById('50'); var edges = node.connectedEdges();
  evt.target.checked ? (node.show(), edges.show()) : (node.hide(), edges.hide());
});

// Remove old edge: 10_47 removed.

</script>
</body>
</html>
